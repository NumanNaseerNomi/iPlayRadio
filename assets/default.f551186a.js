import{f as P,r as D,u as V,_ as f,o,c as l,a as e,n as y,d as b,g as v,v as k,h as B,F as m,i as C,t as u,b as h,w as U,j as w,k as N,l as R,m as F}from"./entry.e59b5d3c.js";import{_ as T}from"./nuxt-link.000fbab1.js";import{u as I,R as g,_ as Q,n as S}from"./RadioPlayer.56c51c6a.js";const M={pwaInDevEnvironment:!1,webManifest:{href:"/iPlayRadio/manifest.webmanifest",useCredentials:!1,linkTag:'<link rel="manifest" href="/iPlayRadio/manifest.webmanifest">'}},E=P({async setup(){if(M){const n=D({link:[]});V(n);const{webManifest:s}=M;if(s){const{href:d,useCredentials:r}=s;r?n.value.link.push({rel:"manifest",href:d,crossorigin:"use-credentials"}):n.value.link.push({rel:"manifest",href:d})}}return()=>null}}),O={data(){return{colorMode:null}},async mounted(){this.colorMode=await I({emitAuto:!0,attribute:"data-bs-theme"})},methods:{setColorMode(n){this.colorMode=n}}},A={class:"nav-item dropdown"},j=e("button",{class:"nav-link dropdown-toggle",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},[e("i",{class:"fa-solid fa-palette fa-lg"})],-1),G={class:"dropdown-menu dropdown-menu-end"},J=e("i",{class:"fa-solid fa-moon-over-sun fa-lg me-3"},null,-1),z=e("li",null,[e("hr",{class:"dropdown-divider"})],-1),H=e("i",{class:"fa-solid fa-moon-stars fa-lg me-3"},null,-1),W=e("i",{class:"fa-solid fa-sun fa-lg me-3"},null,-1);function q(n,s,d,r,t,i){return o(),l("li",A,[j,e("ul",G,[e("li",null,[e("button",{class:y(["dropdown-item",{active:t.colorMode==="auto"}]),onClick:s[0]||(s[0]=c=>i.setColorMode("auto"))},[J,b(" Auto ")],2)]),z,e("li",null,[e("button",{class:y(["dropdown-item",{active:t.colorMode==="dark"}]),onClick:s[1]||(s[1]=c=>i.setColorMode("dark"))},[H,b(" Dark ")],2)]),e("li",null,[e("button",{class:y(["dropdown-item",{active:t.colorMode==="light"}]),onClick:s[2]||(s[2]=c=>i.setColorMode("light"))},[W,b(" Light ")],2)])])])}const K=f(O,[["render",q]]),X={data(){return{searchQuery:"",isLoading:!1,foundChannelsList:[],offset:0,canLoadMore:!0,searchBy:"name",searchByOptions:{country:"Country",countrycode:"Country Code",language:"Language",name:"Name",state:"State",tag:"Tag",tagList:"Tag List"}}},mounted(){this.$refs.myModal.addEventListener("shown.bs.modal",()=>{this.$refs.myInput.focus()})},methods:{async searchStations(){this.isLoading=!0,this.foundChannelsList=[],this.offset=0,this.foundChannelsList=await new g().searchStations({[this.searchBy]:this.searchQuery,offset:0,limit:50,order:"random"}),this.isLoading=!1,this.canLoadMore=!0},async loadMoreChannels(){if(this.canLoadMore){this.isLoading=!0;const n=this.foundChannelsList.length,s=await new g().searchStations({name:this.searchQuery,offset:++this.offset,limit:50,order:"random"});this.foundChannelsList=[...this.foundChannelsList,...s.filter(d=>!this.foundChannelsList.some(r=>r.id===d.id))],this.isLoading=!1,this.canLoadMore=this.foundChannelsList.length>n}}}},Y={class:"modal fade",id:"searchChannelsModal",tabindex:"-1","aria-labelledby":"searchChannelsModalLabel","aria-hidden":"true",ref:"myModal"},Z={class:"modal-dialog"},ee={class:"modal-content"},se=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"searchChannelsModalLabel"},"Search Channels"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),te={class:"modal-body"},ne={class:"input-group mb-3"},ae=["disabled"],oe={class:"input-group mb-3"},le=e("label",{class:"input-group-text",for:"inputGroupSelect01"},"Search By",-1),ie=["value"];function de(n,s,d,r,t,i){const c=Q;return o(),l("div",Y,[e("div",Z,[e("div",ee,[se,e("div",te,[e("div",ne,[v(e("input",{type:"text",class:"form-control","onUpdate:modelValue":s[0]||(s[0]=a=>t.searchQuery=a),placeholder:"Search","aria-label":"Search","aria-describedby":"button-addon2",ref:"myInput"},null,512),[[k,t.searchQuery]]),e("button",{class:"btn btn-outline-secondary",type:"button",onClick:s[1]||(s[1]=a=>i.searchStations()),disabled:t.searchQuery.length===0,id:"button-addon2"},"Search",8,ae)]),e("div",oe,[le,v(e("select",{class:"form-select",id:"inputGroupSelect01","onUpdate:modelValue":s[2]||(s[2]=a=>t.searchBy=a)},[(o(!0),l(m,null,C(t.searchByOptions,(a,_)=>(o(),l("option",{value:_},u(a),9,ie))),256))],512),[[B,t.searchBy]])]),h(c,{listTitle:"Found Channels",channelsList:t.foundChannelsList,isLoading:t.isLoading,onLoadMore:s[3]||(s[3]=a=>i.loadMoreChannels()),style:{"max-height":"70vh"}},null,8,["channelsList","isLoading"])])])])],512)}const re=f(X,[["render",de]]),ce={},ue={class:"navbar navbar-expand bg-body-tertiary sticky-top shadow border-bottom"},he={class:"container"},_e=e("ul",{class:"navbar-nav"},[e("li",{class:"nav-item"},[e("a",{class:"nav-link",type:"button","data-bs-toggle":"modal","data-bs-target":"#searchChannelsModal"},[e("i",{class:"fa-solid fa-magnifying-glass fa-lg"})])])],-1),me={class:"navbar-nav"},fe={class:"nav-item"},pe=e("i",{class:"fa-solid fa-radio fa-lg"},null,-1),be=e("span",{class:"d-none d-md-inline mx-2"},"iPlayRadio",-1),ge={class:"navbar-nav"};function ye(n,s){const d=T,r=K,t=re;return o(),l(m,null,[e("nav",ue,[e("div",he,[_e,e("ul",me,[e("li",fe,[h(d,{class:"navbar-brand",to:"/"},{default:U(()=>[pe,be]),_:1})])]),e("ul",ge,[h(r)])])]),h(t)],64)}const ve=f(ce,[["render",ye]]),Ce={data(){return{channelDetails:S(),searchQuery:"",isLoading:!1,foundChannelsList:[],offset:0,canLoadMore:!0,searchBy:"name",searchByOptions:{country:"Country",countrycode:"Country Code",language:"Language",name:"Name",state:"State",tag:"Tag",tagList:"Tag List"}}},mounted(){this.channelDetails=JSON.parse(localStorage.getItem("nowPlayingChannel"))},methods:{async searchStations(){this.isLoading=!0,this.foundChannelsList=[],this.offset=0,this.foundChannelsList=await new g().searchStations({[this.searchBy]:this.searchQuery,offset:0,limit:50,order:"random"}),this.isLoading=!1,this.canLoadMore=!0},async loadMoreChannels(){if(this.canLoadMore){this.isLoading=!0;const n=this.foundChannelsList.length,s=await new g().searchStations({name:this.searchQuery,offset:++this.offset,limit:50,order:"random"});this.foundChannelsList=[...this.foundChannelsList,...s.filter(d=>!this.foundChannelsList.some(r=>r.id===d.id))],this.isLoading=!1,this.canLoadMore=this.foundChannelsList.length>n}}}},Le={class:"modal fade",id:"PlayingChannelDetailsModal",tabindex:"-1","aria-labelledby":"playingChannelDetailsModalLabel","aria-hidden":"true",ref:"myModal"},$e={class:"modal-dialog"},xe={class:"modal-content"},Me=e("div",{class:"modal-header"},[e("h1",{class:"modal-title fs-5",id:"playingChannelDetailsModalLabel"},"Playing Channel Details"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ke={class:"modal-body"},we={class:"row d-flex align-items-center"},Se={class:"col-lg-5 my-1"},Pe=["src"],De={class:"col-lg-7 my-1"},Ve={class:"card-title text-truncate"},Be={class:"text-truncate opacity-75"},Ue={class:"border rounded-2 px-1"},Ne={class:"border rounded-2 px-1"},Re={key:0,class:"border rounded-2 px-1"},Fe=e("hr",null,null,-1),Te={class:"row"},Ie={class:"col"},Qe={class:"d-grid gap-2"},Ee={class:"btn btn-outline-secondary",type:"button",disabled:""},Oe=e("i",{class:"fa-solid fa-thumbs-up"},null,-1),Ae=e("span",{class:"d-none d-sm-inline"}," Like",-1),je=N('<div class="col"><div class="d-grid gap-2"><button class="btn btn-outline-secondary" type="button" disabled><i class="fa-solid fa-comment"></i><span class="d-none d-sm-inline"> Comment</span></button></div></div><div class="col"><div class="d-grid gap-2"><button class="btn btn-outline-secondary" type="button" disabled><i class="fa-solid fa-share"></i><span class="d-none d-sm-inline"> Share</span></button></div></div>',2);function Ge(n,s,d,r,t,i){var c,a,_,L,$,x;return o(),l("div",Le,[e("div",$e,[e("div",xe,[Me,e("div",ke,[e("div",we,[e("div",Se,[e("img",{class:"img-fluid rounded-circle img-thumbnail mx-auto d-block",src:(c=t.channelDetails)==null?void 0:c.favicon,alt:"thumbnail"},null,8,Pe)]),e("div",De,[e("h4",Ve,u((a=t.channelDetails)==null?void 0:a.name),1),e("div",Be,[e("span",Ue,u((_=t.channelDetails)==null?void 0:_.countryCode),1),(o(!0),l(m,null,C((L=t.channelDetails)==null?void 0:L.tags,p=>(o(),l("span",Ne,u(p),1))),256)),(o(!0),l(m,null,C(($=t.channelDetails)==null?void 0:$.language,p=>(o(),l("span",null,[p?(o(),l("span",Re,u(p),1)):w("",!0)]))),256))])])]),Fe,e("div",Te,[e("div",Ie,[e("div",Qe,[e("button",Ee,[Oe,Ae,b(" ("+u((x=t.channelDetails)==null?void 0:x.votes)+") ",1)])])]),je])])])])],512)}const Je=f(Ce,[["render",Ge]]),ze={data(){return{channelDetails:S(),canCheckFallbackUrl:!0,isPlaying:!1,isMuted:!1,volumeLevel:.5}},mounted(){this.channelDetails=JSON.parse(localStorage.getItem("nowPlayingChannel")),this.volumeLevel=localStorage.getItem("volumeLevel")??.5},methods:{onVolumeChange(){localStorage.setItem("volumeLevel",this.$refs.audioPlayer.volume)},onPlay(){this.isPlaying=!0},onPause(){this.isPlaying=!1,this.canCheckFallbackUrl=!1,this.$refs.audioPlayer.src="",this.$refs.audioPlayer.removeAttribute("src")},playStop(){const n=this.$refs.audioPlayer;n.paused?(n.src=this.getSecureStreamingUrl(),n.play()):n.pause()},getSecureStreamingUrl(){var n,s;return this.canCheckFallbackUrl=!0,(n=this.channelDetails)!=null&&n.urlResolved.startsWith("https://")?this.channelDetails.urlResolved:(s=this.channelDetails)==null?void 0:s.urlResolved.replace(/^http:/,"https:")},checkFallbackUrl(){var n;this.canCheckFallbackUrl&&(this.$refs.audioPlayer.src=(n=this.channelDetails)==null?void 0:n.urlResolved.replace(/^https:/,"http:"),this.canCheckFallbackUrl=!1)}}},He=e("br",null,null,-1),We=e("br",null,null,-1),qe=e("br",null,null,-1),Ke={class:"fixed-bottom bg-body-tertiary border-top"},Xe={class:"container d-flex align-items-center"},Ye={class:"btn p-0",type:"button","data-bs-toggle":"modal","data-bs-target":"#PlayingChannelDetailsModal"},Ze=["src"],es={key:0,class:"fa-solid fa-pause fa-2xl"},ss={key:1,class:"fa-solid fa-play fa-2xl"},ts={class:"dropdown"},ns={type:"button",class:"btn dropdown-toggle p-2","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-auto-close":"outside"},as={key:0,class:"fa-solid fa-volume-slash fa-2xl"},os={key:1,class:"fa-solid fa-volume fa-2xl"},ls={class:"dropdown-menu p-4"},is={for:"customRange3",class:"form-label"},ds={class:"btn p-0",type:"button","data-bs-toggle":"modal","data-bs-target":"#PlayingChannelDetailsModal"},rs={class:"text-truncate m-0 px-2"},cs=["src","muted","volume"];function us(n,s,d,r,t,i){const c=Je;return t.channelDetails?(o(),l(m,{key:0},[He,We,qe,e("div",Ke,[e("div",Xe,[e("a",Ye,[e("img",{src:t.channelDetails.favicon,class:"img-thumbnail object-fit-cover rounded-5 m-1 fa-beat-fade",alt:"thumbnail",onError:s[0]||(s[0]=a=>n.setDefaultThumbnail()),style:{"max-width":"3rem"}},null,40,Ze)]),e("button",{type:"button",class:"btn p-2",onClick:s[1]||(s[1]=a=>i.playStop())},[t.isPlaying?(o(),l("i",es)):(o(),l("i",ss))]),e("div",ts,[e("button",ns,[t.volumeLevel=="0"?(o(),l("i",as)):(o(),l("i",os))]),e("div",ls,[e("label",is,"Volume: "+u(Math.round(t.volumeLevel*100))+"%",1),v(e("input",{type:"range",class:"form-range",min:"0",max:"1",step:"0.005","onUpdate:modelValue":s[2]||(s[2]=a=>t.volumeLevel=a),id:"customRange3"},null,512),[[k,t.volumeLevel]])])]),e("a",ds,[e("h4",rs,u(t.channelDetails.name),1)])])]),e("audio",{ref:"audioPlayer",src:i.getSecureStreamingUrl(),muted:t.isMuted,volume:t.volumeLevel,onVolumechange:s[3]||(s[3]=a=>i.onVolumeChange()),onPlay:s[4]||(s[4]=a=>i.onPlay()),onPause:s[5]||(s[5]=a=>i.onPause()),onError:s[6]||(s[6]=a=>i.checkFallbackUrl()),autoplay:""},null,40,cs),h(c)],64)):w("",!0)}const hs=f(ze,[["render",us]]);R(()=>import("./bootstrap.bundle.min.0bc240dc.js").then(n=>n.b),[],import.meta.url);const _s={head:{title:"My Nuxt App"}},ms=e("br",null,null,-1);function fs(n,s,d,r,t,i){const c=E,a=ve,_=hs;return o(),l(m,null,[h(c),h(a),ms,F(n.$slots,"default"),h(_)],64)}const ys=f(_s,[["render",fs]]);export{ys as default};
